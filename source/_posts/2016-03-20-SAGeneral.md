title: 空间分析之常用工具

categories:
  - 木工开物

date: 2012-08-19 21:19:00
tags: [Geoprocessing,Spatial Analyst]

---


空间分析扩展模块中提供了很多方便栅格处理的工具，其中提取（Extraction）、综合（Generalization）等工具集中提供的功能是在分析处理数据中经常会用到的。

# **一、提取（Extraction）**

顾名思义，这组工具就是方便我们将栅格数据按照某种条件来筛选提取。

工具集中提供了如下工具：

![](http://my.csdn.net/uploads/201208/10/1344583778_3931.png)


**Extract by Attribute：**按属性提取，按照SQL表达式筛选像元值。

**Extract by Circle：**按圆形提取，定义圆心和半径，按圆形提取栅格。

**Extract by Mask：**按掩膜提取，按指定的栅格数据或者矢量数据的形状的提取像元。

**Extract by Point：**按点提取，按给定坐标值列表进行提取。

**Extract by Polygon：**按多边形提取，按给定坐标序列作为节点的多边形进行提取。

**Extract by Rectangle：**按矩形提取，按给定的图层的Extent，或者定义了四至的矩形进行提取。

**Extract Value to Point ：**按照点要素的位置提取对应的（一个/多个）栅格数据的像元值，其中，提取的Value可以使用像元中心值或者选择进行双线性插值提取。

**Extract Multi Value to Point：**同上，只是提取多个栅格的像元值。

**Sample：**采样，根据给定的栅格或者矢量数据的位置提取像元值，采样方法可选：最邻近分配法（Nearest）、双线性插值法（Bilinear）、三次卷积插值法（Cubic）。

以上工具用来提取栅格中的有效值、兴趣区域\点等很有用的。


# **二、综合（Generalization）**

这组工具主要用来清理栅格数据，可以大致分为三个方面的功能：**更改数据的分辨率、对区域进行概化、对区域边缘进行平滑**。

这些工具的输入都要求为整型栅格。

![](http://my.csdn.net/uploads/201208/10/1344585961_6210.png)

**1. 更改数据分辨率：**

**Aggregate： **聚合，生成降低分辨率的栅格。

其中，Cell Factor需要是一个大于1的整数，表示生成栅格的像元大小是原来的几倍。

生成新栅格的像元值可选：新的大像元所覆盖的输入像元的总和值、最小值、最大值、平均值、中间值。

效果如下，Cell factor设置为 6：

![](http://my.csdn.net/uploads/201208/10/1344587334_2372.png)  ==>  ![](http://my.csdn.net/uploads/201208/10/1344589160_9763.png)

**2. 对区域进行概化：**

**Expand：**扩展，按指定的像元数目扩展指定的栅格区域。

![](http://my.csdn.net/uploads/201208/10/1344590389_5858.png) ==> ![](http://my.csdn.net/uploads/201208/10/1344590405_6532.png)

**Shrink：** 收缩，按指定像元数目收缩所选区域，方法是用邻域中出现最频繁的像元值替换该区域的值。同Expand。

**Nibble：**用最邻近点的值替换掩膜范围内的栅格像元的值。

**Thin：**细化，通过减少表示要素宽度的像元数来对栅格化的线状对象进行细化。

**Region Group：**区域合并，记录输出中每个像元所属的连接区域的标识。每个区域都将被分配给唯一编号。

工作原理：扫描的第一个区域接收值 1，第二个区域接收值 2，依此类推，直到所有区域都已赋值。扫描将按从左至右、从上至下的顺序进行。被赋予输出区域的值取决于系统在扫描过程中是在什么时候遇到它们的。

其中，添加链接选项为“真”时。这将在输出栅格的属性表中创建名为 LINK 的项，其保留输入栅格的每个像元的原始值。

![](http://my.csdn.net/uploads/201208/10/1344591343_7543.png)


如下图，原始数据具有相同值的区域有的并不连通，这时会新生成很多Region：

![](http://my.csdn.net/uploads/201208/10/1344591363_4723.png) ==> ![](http://my.csdn.net/uploads/201208/10/1344591380_7025.png)

**3\. 对区域边缘进行平滑：**

**Boundary Clean：**边界清理，通过扩展和收缩来平滑区域间的边界。该工具会去更改X或Y方向上所有少于三个像元的位置。

**Majority Filter：**众数滤波，根据相邻像元数据值的众数替换栅格中的像元。可以认为是“少数服从多数”，太突兀的像元被周围的大部队干掉了。其中“大部队”的参数可设置，相邻像元可以4邻域或者8邻域，众数可选，需要大部分（3/4、5/8）还是过半数即可。

**TIPS： 这两个工具仅支持整形栅格输入。**

看如下示例，清理后，还是有明显变化的，细碎像元已经被处理掉了。

![](http://my.csdn.net/uploads/201208/10/1344588714_6464.png)
![](http://my.csdn.net/uploads/201208/10/1344588738_4586.png)


