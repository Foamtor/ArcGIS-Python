title: 空间分析之区域分析

categories:
  - 木工开物

date: 2012-08-24 17:12:00
tags: [Geoprocessing,Spatial Analyst]

---


空间分析扩展中，有关区域分析，提供了如下工具：

![](http://my.csdn.net/uploads/201208/23/1345712739_6223.png)

可以将其分为这样几类：

# **一、确定区域中类的面积的工具**

## **面积制表（Tabulate Area）**

面积制表工具以表的形式进行输出。在此表中：

1）区域数据集的每个唯一值均有一条记录。

2）类数据集的每个唯一值均有一个字段。

3）每个记录将存储每个区域内每个类的面积。

![](http://my.csdn.net/uploads/201208/24/1345799388_8811.gif)

**TIPS：**

使用此工具的常见错误：

1.**“一个或多个输入没有关联属性表**” 错误

此错误通常是由于区域输入中没有所需的属性表而导致的。

如果区域输入是一个栅格数据，请先使用构建栅格属性表为其创建一个属性表。

如果区域输入是一个要素数据集，则在内部转换为栅格的过程中会自动创建属性表。

2.“**无法分配内存**” 错误

程序使用内部表执行面积计算。如果区域输入的值域非常大（百万级别），则处理这些表的内存需求可能会接近或超出指定的系统分页文件大小。

如果所配置的内存总量不足，操作将失败，并将显示“无法分配内存”消息。此问题通常有两种解决方法：

A） 您可增大虚拟内存设置以避免出现此错误。但是，要注意的是，工具执行完毕后，操作系统不会立即释放其所占用的虚拟内存。从而可能会降低计算机的总体性能。

B） 另一种方法是减小区域的值域（建议方法）。步骤如下：首先向区域属性表添加一个新项和一个索引值，然后对该项使用面积制表，最后再将结果与原始区域输入相关联。
例如，如有仅有三个区域值 2,120,000、4,070,000 和 9,540,000，则可将它们除以 10,000，从而得到区域值 212、407 和 954。


3.**输出面积小于预计结果**

输出表中的某些面积值可能小于预计结果。

这通常与输入中的 NoData 像元有关，经重采样以匹配其他更为粗糙的输入之后，这些具有高分辨率的像元将变为更大的 NoData 区域。

为避免此情况，请对较粗糙的输入栅格进行重采样以使其与较精细的输入栅格的分辨率相匹配，或者将像元大小栅格分析环境设置为输入的最小值。

<br>

# **二、填充指定区域的工具**


## **区域填充（**Zonal Fill **）**


输入区域栅格数据可以为整型或浮点型。使用权重栅格数据沿区域边界的最小像元值填充区域。

区域填充可用作水文分析的一部分，将洼地填充至分水岭边界的最小高程。

此工具有待实践，结合水文分析学习。


# **三、作用于区域形状的工具**

## **分区几何统计（Zonal Geometry）**

这里说的区域是指具有相同值的所有像元。各区无需相连。栅格和要素数据集都可用于工具的输入。

这个工具的亮点在于可以统计区的**总面积（AREA）、总周长（PERIMETER）、厚度（THICKNESS）、质心（CENTROID）**。其他三个比较好理解，我们看下厚度的概念。

分区厚度分析可计算输入栅格上各个区域中最深或最厚点距其周围像元的距离。

实际上，厚度就是可在各个区域中（不包括区域外部的任何像元）绘制的最大圆的半径（以像元为单位）。如下图：

![](http://my.csdn.net/uploads/201208/23/1345714479_5586.gif)  ![](http://my.csdn.net/uploads/201208/23/1345714489_2780.gif)

## **以表格显示分区几何统计（Zonal Geometry as Table）**


将上述统计结果输出到Table表中。

![](http://my.csdn.net/uploads/201208/24/1345774876_4552.png)


其中，最后三个参数，用于描述各个区域的椭圆近似的形状。定义椭圆形状和大小的参数为长轴、短轴和方向。各椭圆的面积与为其分配的区域的面积相等。

MAJORAXIS：长轴的长度；MINORAXIS：短轴的长度。以地图单位表示。

ORIENTATION 值的单位为度，取值范围为 0 至 180。方向定义为 x 轴与椭圆长轴之间的角度。方向的角度值以逆时针方向增加，起始于东方向（右侧水平位置）的 0 值，在长轴垂直时通过 90 位置。如果某个特定区域仅由一个像元组成，或者该区域为单个像元方块，那么会将椭圆（在此情况下为圆）的方向设置为 90 度。

![](http://my.csdn.net/uploads/201208/24/1345776028_4172.png)



# **四、确定某输入栅格值在另一区域中的频数分布的工具**

## **区域直方图（Zonal Histogram）**

创建显示各唯一区域值输入中的像元值频数分布的表和直方图（Graph类型）。

区域字段必须为整型或字符串类型。

![](http://my.csdn.net/uploads/201208/24/1345799013_2950.png)

![](http://my.csdn.net/uploads/201208/24/1345799022_1697.png)


# **五、作用于区域属性的工具**

## **分区统计（Zonal Statistics）**

**以表格显示分区统计（****Zonal Statistics as Table****）**

这两个工具是，计算在另一个数据集的区域内栅格数据值的统计信息。这里的区域定义为输入中具有相同值的所有区。各区无需相连。栅格和要素数据集都可用于区域输入。

前者生成栅格数据，后者生成统计表。

![](http://my.csdn.net/uploads/201208/24/1345780309_9467.png)

![](http://my.csdn.net/uploads/201208/24/1345780322_4010.png)

<br>

OK……

