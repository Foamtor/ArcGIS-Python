title: 认识虚拟内存与分页文件

categories:
  - 木工开物

date: 2012-02-07 14:00:00
tags: [Deployment]

---



如果计算机缺少运行程序或操作所需的RAM，则 Windows 使用虚拟内存进行补偿。

查看RAM数量：

![](http://hi.csdn.net/attachment/201202/7/0_1328594603jmMs.gif)

注意：某些情况下，Windows会报告计算机上安装的内存数量以及可以使用的内存数量。如果使用的是32位版本的Windows，则可用内存的数量可能低于安装的内存总量。

虚拟内存将计算机的RAM和硬盘上的临时空间组合在一起。当RAM运行速度缓慢时，虚拟内存将数据从RAM移动到称为分页文件的空间中。将数据移入与移出分页文件可以释放RAM，以便计算机可以完成工作。

一般而言，计算机的RAM越多，程序运行得越快。如果计算机的速度由于缺少RAM而降低，则可以尝试增加虚拟内存来进行补偿。但是，计算机从RAM读取数据的速度要比从硬盘读取数据的速度快得多，因此增加RAM是更好的方法。

分页文件：硬盘上一个或者多个隐藏文件 pagefile.sys，Windows用于存储未存入内存的部分程序和数据文件。页面文件和物理内存或随机存取内存（RAM）构成了虚拟内存。Windows会根据需要将数据从页面文件移至内存，或将数据从内存移至页面文件以便为新数据释放内存。也叫“交换文件”。



**错误消息与自定义大小**

如果收到警告虚拟内存不足的错误消息，则需要添加更多的RAM 或增加分页文件的大小，这样才能在计算机上运行程序。Windows 通常会自动管理大小，但是如果默认的大小不能满足您的需要，则可以手动更改虚拟内存的大小。

如何自定义虚拟内存的大小？

如果您收到虚拟内存不足的警告，则您将需要增加<分页文件的最小大小。Windows设置分页文件的初始最小大小等于您计算机上安装的随机存取内存(RAM)的数量加上300兆字节(MB)，最大大小是您计算机上安装的RAM 数量的3倍。如果您看到对这些建议级别的警告，则增加最小大小和最大大小。

1.   单击打开我的电脑“属性”。
2.   在左窗格中，单击“高级系统设置”。
3.   在“高级”选项卡上，在“性能”下，单击“设置”。
4.   单击“高级”选项卡，然后在“虚拟内存”下，单击“更改”。
5.   清除“自动管理所有驱动器的分页文件大小”复选框。
6.   在“驱动器[卷标]”下，单击要更改的分页文件所在的驱动器。
7.   单击“自定义大小”，在“初始大小(MB)”或“最大大小(MB)”框中键入新的大小（以兆字节为单位），单击“设置”，然后单击“确定”。

注意：增加大小通常不需要重新启动更改就能生效，但是如果减小大小，则需要重新启动计算机更改才能生效。建议不要禁用或删除页面文件。




**“任务管理器”内存列的含义**



|**列**| **描述** |
| --- | --- |
| PID（进程标识符）| 唯一标识所运行进程的编号。 |
| 用户名 | 运行该进程的用户帐户。|
| 会话标识 | 标识进程所有者的编号。当多个用户登录时，每个用户都有一个唯一的会话标识。|
| CPU使用率| 自上次更新以来，进程使用CPU的时间百分比（列标题中列为“CPU”）。|
| CPU时间| 进程自其启动以来使用的总处理时间（以秒为单位）。|
| 内存-工作集| 私人工作集中的内存数量与进程正在使用且可以由其他进程共享的内存数量的总和。|
| 内存-高峰工作集 | 进程所使用的工作集内存的最大数量。|
| 内存-工作集增量| 进程所使用的工作集内存中的更改量。|
| 内存-专用工作集| 工作集的子集，它专门描述了某个进程正在使用且无法与其他进程共享的内存数量。|
| 内存-提交大小| 为某进程使用而保留的虚拟内存的数量。|
| 内存-页面缓冲 | 由内核或驱动程序代表进程分配的可分页内核内存的数量。可分页内存是可写入其他存储媒体（例如硬盘）的内存。|
| 内存-非页面缓冲池 | 由内核或驱动程序代表进程分配的不可分页的内核内存的数量。不可分页的内存是不能写入其他存储媒体的内存。 |
| 页面错误 | 自某进程启动后该进程生成的页面错误数。进程访问当前不在工作集的内存页面时会出现页面错误。某些页面错误要求从磁盘中检索页面内容；其他的页面错误可在不访问磁盘的情况下解决。|
| 页面错误增量| 自上次更新以来页面错误数量的变化。|
| 基本优先级| 优先排名，它确定了所计划进程的线程顺序。|
| 句柄数| 进程的对象表中的对象句柄数。|
|线程数 | 进程中运行的线程数。|
| USER对象| 当前由进程使用的USER对象数。USER 对象是来自Window管理器的对象，它包含窗口、菜单、光标、图标、挂接、加速器、监视器、键盘布局及其他内部对象。|
| GDI对象| 图形输出设备应用程序编程接口(API)的图形设备接口(GDI)库中的对象数量。|
| I/O读取 | 由进程（包括文件、网络和设备I/O）生成的读取输入/输出操作的数量。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 读取数量。|
| I/O写入| 由进程（包括文件、网络和设备I/O）生成的写入输入/输出操作的数量。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 写入数量。 |
| I/O其他| 由既非读取又非写入的进程（包括文件、网络和设备I/O）生成的输入/输出操作的数量。此类操作的示例是控制功能。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 其他操作数量。 |
| I/O读取字节| 由进程（包括文件、网络和设备I/O）生成的输入/输出操作所读取的字节数。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 读取字节数。 |
| I/O写入字节| 由进程（包括文件、网络和设备I/O）生成的输入/输出操作所写入的字节数。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 写入字节数。|
| I/O其他字节| 由既非读取又非写入的进程（包括文件、网络和设备I/O）生成的输入/输出操作所传输的字节数。此类操作的示例是控制功能。无法计算定向到CONSOLE（控制台输入对象）句柄的I/O 其他字节数。|
| 映像路径名称 | 硬盘上的进程位置。|
| 命令行| 指定为创建进程的完整命令行。|
| 用户帐户控制(UAC)虚拟化| 确定为此进程启用、禁用还是不允许使用用户帐户控制(UAC) 虚拟化。UAC虚拟化将文件和注册表写入错误重定向到每用户位置。 |
| 描述| 进程的描述。|
| 数据执行保护| 是否为此进程启用或禁用数据执行保护。有关详细信息，请参阅什么是数据执行保护？|

