title: 深入路径距离分析（二）
categories:
- 木工开物
date: 2014-09-15 11:42:57
tags: [Geoprocessing]
---


接着上一篇文章，继续说说水平影响因子：

	

# **水平系数**



水平系数 (HF) 从像元移动时所遇到的水平阻力因素的角度出发，确定从一个像元移到另一个像元的成本，或者说是困难。

在路径距离分析中，提供了确定水平方向成本的参数，如下图：
	
![](http://img.blog.csdn.net/20140913151312629)




**水平栅格**中存储了各个像元位置指定的水平角度，例如在上面开车的例子中，指的就是风向。

水平方向以度为单位进行定义，0 表示位于待处理像元的上方（或北方），值沿顺时针方向增加，形成一个圆并在 360 度时回到原始位置。



![](http://img.blog.csdn.net/20140913154632428)



另外引入的一个概念是，水平相对移动角度 (HRMA)，这是水平角度和前进角度的夹角，对于上面的例子，就是汽车的行驶角度和风向的夹角。

![](http://img.blog.csdn.net/20140913142819971?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQva2lraXRhTW9vbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)



HRMA 值的范围介于 -180 到 180 度之间。但是，在水平系数图中，x 轴上的值介于 0 到 180 之间，也就是工具中使用的是HRMA的绝对值。确定了 HRMA 后，会使用一个图表来确定实际的水平系数。y 轴表示 HF，而 x 轴表示 HRMA。


**水平系数关键字**，允许我们通过选择工具中提供的适合的算法，工具中提供了：&nbsp;BINARY、FORWARD、LINEAR、INVERSE_LINEAR、TABLE 五种方法。
	

**（1）Binary——二元水平系数：**

当 HRMA 小于切削角时，通过像元部分的 HF 设置为与零系数（Zero Factor）相关联的值。如果 HRMA 大于切削角，则此部分的 HF 设置为无穷大。默认切削角（Cut Angle）为 45 度。默认零系数为 1.0。

![](http://img.blog.csdn.net/20140913144815510)

![](http://img.blog.csdn.net/20140913151436355)


**（2）Forward——前向水平系数：**

如果某段行程的 HRMA 小于 45 度，则 HF 设置为与零系数（Zero Factor）相关联的值。当 HRMA 大于或等于 45 度且小于 90 度时，HF 设置为边值（Side Value）。如果未指定边值，则默认边值为 1。如果 HRMA 大于或等于 90 度，则 HF 设置为无穷大。默认零系数为0 .5。

![](http://img.blog.csdn.net/20140913150711021)

![](http://img.blog.csdn.net/20140913151906235)
	

**（3）LINEAR——线性水平系数**

HF 由 HRMA-HF 坐标系中的一条直线确定。这条线在 y 轴（表示 HF 系数）上与零系数（Zero Factor）相关联的值处进行截取。线的斜率（Slop）可以使用 SLOPE参数指定。如果未确定斜率，则默认值为 0.5/45 或 1/90（指定为 0.01111）。默认切削角为 181 度，这相当于无切削。默认零系数为 0.5。

![](http://img.blog.csdn.net/20140913152656186)

![](http://img.blog.csdn.net/20140913152840909)

	

**（4）INVERSE_LINEAR——逆线性水平系数**

HF 由 HRMA-HF 坐标系中的一条直线的逆向值确定。这条线在 y 轴（表示 HF 系数）上与零系数相关联的值处进行截取。线的斜率可以使用 SLOPE 修饰属性进行指定。如果未确定斜率，则默认值为 -2/180 或 -1/90（指定为 0.01111）。默认切削角为 181 度，这相当于无切削。默认零系数为 2.0。

![](http://img.blog.csdn.net/20140913152843968)

![](http://img.blog.csdn.net/20140913153140699)



**（5）Table——自定义表格**

如果前面四种既定算法不能满足要求，我们还可以自定表格，方法就是，在任意文本编辑器中创建的 ASCII 文件来定义图表。

该文件的每一行有两列值与之对应。第一列值用于识别 HRMA（以度为单位表示），第二列值为 HF。文件中的每行指定图表中的一个点。

两个连续的点定义 HRMA-HF 坐标系中的一条线段。HRMA 角度必须按升序输入。对于所有小于第一个（最低）输入值或大于最后一个（最大）输入值的 HRMA 角度，其 HF 系数将设置为无穷大。

在 ASCII 文件中，无穷大的 HF 表示为 -1。



示例：

![](http://img.blog.csdn.net/20140913154155434)	

![](http://img.blog.csdn.net/20140913154450217)

有关水平影响因子的总结就到这里，下一篇继续整理和讲解垂直因子……

	